# Raspberry Pi 5 Wi-Fi Hotspot & SSH Access Setup

Tento n√°vod popisuje krok za krokem, jak na Raspberry Pi 5 vytvo≈ôit automaticky spou≈°tƒõn√Ω Wi-Fi hotspot pomoc√≠ NetworkManageru a jak se k nƒõmu p≈ôipojit p≈ôes SSH.

Co to um√≠?

Raspberry Pi po startu automaticky vytvo≈ô√≠ Wi-Fi Access Point (SSID Hostspot) a spust√≠ DHCP/NAT.

Klient (notebook/telefon) se p≈ôipoj√≠ k Hostspot a z√≠sk√° IP adresu z pods√≠tƒõ (10.42.0.x nebo 192.168.6.x).

SSH p≈ô√≠stup do Pi p≈ôes ssh pi@<IP>, bez nutnosti p≈ô√≠m√©ho kabelov√©ho p≈ôipojen√≠.

Sd√≠len√≠ internetu: pokud je Pi p≈ôipojeno k internetu p≈ôes Ethernet, nebo druhou Wi-Fi (nap≈ô. USB dongle), klienti p≈ôipojen√≠ na Hostspot maj√≠ internet.

Pozn√°mka: Pi vestavƒõnou Wi-Fi (wlan0) nelze souƒçasnƒõ pou≈æ√≠vat jako klient i AP ‚Äì pro Wi-Fi uplink je nutn√Ω druh√Ω adapt√©r.

## 1. P≈ô√≠prava syst√©mu

```bash
sudo apt update
sudo apt install -y network-manager openssh-server
```

* **NetworkManager** spravuje hotspot.
* **OpenSSH Server** umo≈æn√≠ SSH p≈ô√≠stup.

---

## 2. Vytvo≈ôen√≠ profilu hotspotu

```bash
sudo nmcli connection add \
  type wifi ifname wlan0 con-name Hostspot autoconnect yes ssid Hostspot
```

* `type wifi` ‚Äì Wi-Fi p≈ôipojen√≠
* `ifname wlan0` ‚Äì vestavƒõn√° Wi-Fi karta
* `con-name Hostspot` ‚Äì intern√≠ n√°zev profilu
* `autoconnect yes` ‚Äì spust√≠ se po restartu
* `ssid Hostspot` ‚Äì viditeln√© jm√©no s√≠tƒõ nap≈ô: Pi_Bur_01
```bash
sudo nmcli connection add \
  type wifi ifname wlan0 con-name Pi_Bur_01 autoconnect yes ssid Pi_Bur_01
```
---

## 3. P≈ôepnut√≠ do re≈æimu Access Point + NAT/DHCP

```bash
sudo nmcli connection modify Pi_Bur_01 \
  802-11-wireless.mode ap \
  802-11-wireless.band bg \
  ipv4.method shared
```

* `mode ap` ‚Äì Access Point
* `band bg` ‚Äì 2.4‚ÄØGHz, re≈æimy b/g
* `ipv4.method shared` ‚Äì NAT + DHCP automaticky

---

## 4. Nastaven√≠ zabezpeƒçen√≠ (WPA2‚ÄëPSK)

```bash
sudo nmcli connection modify Pi_Bur_01 wifi-sec.key-mgmt wpa-psk
sudo nmcli connection modify Pi_Bur_01 wifi-sec.psk "sokolska"
```

* `wifi-sec.key-mgmt wpa-psk` ‚Äì WPA2‚ÄëPersonal
* `wifi-sec.psk` ‚Äì heslo (alespo≈à 8 znak≈Ø)

---

## 5. Aktivace hotspotu ihned

```bash
sudo nmcli connection up Hostspot
```

* AP zaƒçne vys√≠lat a je p≈ôipraven k pou≈æit√≠.

---

## 7. Ovƒõ≈ôen√≠ a p≈ôipojen√≠ klienta

1. Na za≈ô√≠zen√≠ (notebook/telefon) vyhledej s√≠≈• **Pi_Bur_01**.
2. P≈ôipoj se heslem **sokolska**.
3. Na Linuxu ovƒõ≈ô IP:

   ```bash
   ip addr show <tv√©_wifi_iface> | grep inet
   ip route | grep default
   ```

   * Gateway je IP Raspberry Pi (nap≈ô. `10.42.0.1` nebo `192.168.6.1`).

---

## 8. SSH p≈ô√≠stup

```bash
 ssh pi@10.42.0.1
```

* U≈æivatel: `pi`
* Heslo: to, co m√°≈° pro `pi` (v√Ωchoz√≠ `raspberry` nebo sv√© vlastn√≠).

---

## 9. Autostart po rebootu

D√≠ky `autoconnect yes` a `mode ap` se po ka≈æd√©m restartu Raspberry Pi:

1. `wlan0` p≈ôepne do AP m√≥du
2. spust√≠ NAT a DHCP
3. zaƒçne vys√≠lat **Hostspot**


## Tipy & roz≈°√≠≈ôen√≠

* **Sd√≠len√≠ internetu**: p≈ôipoj Pi k Ethernetu; NAT funguje automaticky.
* **Zmƒõna SSID/hesla**:

  ```bash
  sudo nmcli connection modify Hostspot 802-11-wireless.ssid "NewSSID"
  sudo nmcli connection modify Hostspot wifi-sec.psk "NewPassword123"
  sudo nmcli connection down Hostspot && sudo nmcli connection up Hostspot
  ```
* **Skryt√° s√≠≈•**:

  ```bash
  sudo nmcli connection modify Hostspot 802-11-wireless.hidden yes
  sudo nmcli connection down Hostspot && sudo nmcli connection up Hostspot
  ```

---

*Hotovo! Teƒè m√°≈° spolehliv√Ω SSH p≈ô√≠stup p≈ôes vlastn√≠ Wi‚ÄëFi hotspot, kter√Ω se automaticky spust√≠ p≈ôi startu.*






### Pokusy:
* Kdyz pripojite nejakou kameru napr go pro pomoci usb do rasberry, potom pomoci prikazu:
  ```bash
  sudo dmesg -w
  lsusb
  ```
* zjistite, jestli rasberry zachytilo kameru
* spusteni streamu z kamery na monitor:
```bash
  ffplay /dev/video0
  ```

# SledovaniBarev na Raspberry Pi¬†5

Tento README popisuje, jak na Raspberry¬†Pi¬†5 spustit projekt **SledovaniBarev**, kter√Ω zpracov√°v√° obraz z USB kamery nebo statick√©ho obr√°zku v C++, pomoc√≠ OpenCV.

## üì¶ P≈ôedpoklady

* Raspberry Pi¬†5 s Raspberry Pi OS (Desktop nebo Lite + X server)
* SSH p≈ô√≠stup k Pi (nap≈ô. `ssh pi@10.42.0.1`)
* USB kamera v UVC re≈æimu (viditeln√° jako `/dev/video0`)
* Projekt **SledovaniBarev** p≈ôenesen√Ω do `~/Desktop/SledovaniBarev`

## 1. P≈ôenos projektu na Pi


### ) SCP (alternativa)

Na va≈°em notebooku:

```bash
scp -r ~/Plocha/PROGRAMING/C++/SledovaniBarev pi@10.42.0.1:/home/pi/Desktop/
```

---

## 2. Instalace z√°vislost√≠

```bash
sudo apt update
sudo apt install -y build-essential cmake libopencv-dev
```

* **build-essential**: GCC, make
* **cmake**: build system
* **libopencv-dev**: hlaviƒçky a knihovny OpenCV

---
-----------------------------------------------------------------------------------------------

## 3. Jednor√°zov√° kompilace bez CMake

1. P≈ôejdi do slo≈æky projektu:

   ```bash
   cd ~/Desktop/SledovaniBarev
   ```
2. Sestav program p≈ô√≠kazem:

   ```bash
   g++ main.cpp -o sledovani `pkg-config --cflags --libs opencv4`
   ```

   * `-o sledovani` vytvo≈ô√≠ bin√°rku `sledovani`
   * back-ticks spust√≠ `pkg-config` pro nastaven√≠ OpenCV

---

## 4. Spu≈°tƒõn√≠ programu

> **Pozn√°mka**: Pro zobrazen√≠ GUI na HDMI monitoru je nutn√© nastavit `DISPLAY`

1. P≈ôejdi do projektu:

   ```bash
   cd ~/Desktop/SledovaniBarev
   ```
2. Nastav X display:

   ```bash
   export DISPLAY=:0
   ```
3. Spus sledov√°n√≠ z USB kamery:

   ```bash
   ./sledovani /dev/video0
   ```
4. (Alternativa) Zpracov√°n√≠ statick√©ho obr√°zku:

   ```bash
   ./sledovani vstup.jpg
   ```

---

## 5. CMake varianta (voliteln√©)

1. Vytvo≈ô build adres√°≈ô a p≈ôejdi do nƒõj:

   ```bash
   cd ~/Desktop/SledovaniBarev
   mkdir -p build && cd build
   ```
2. Generuj a sestav:

   ```bash
   cmake ..
   make -j4
   ```
3. Spus program:

   ```bash
   export DISPLAY=:0
   ./SledovaniBarev /dev/video0
   ```

---

## 6. Rychl√© p≈ôipojen√≠ a spu≈°tƒõn√≠ z notebooku

```bash
ssh pi@10.42.0.1 \
'cd ~/Desktop/SledovaniBarev && \
 g++ main.cpp -o sledovani `pkg-config --cflags --libs opencv4` && \
 export DISPLAY=:0 && \
 ./sledovani /dev/video0'
```

---

-----------------------------------------------------------------------------------------------

## 7. Automatick√© spou≈°tƒõn√≠ po bootu (voliteln√©)

Tato ƒç√°st ukazuje, jak zajistit, aby se SledovaniBarev spustil automaticky po startu Raspberry¬†Pi.

### 7.1. Vytvo≈ôen√≠ systemd jednotky

1. Otev≈ôi nov√Ω soubor jednotky v editoru Nano (nebo jin√©m):

   ```bash
   sudo nano /etc/systemd/system/sledovani.service
   ```

2. Vlo≈æ do nƒõj n√°sleduj√≠c√≠ obsah:

   ```ini
   [Unit]
   Description=SledovaniBarev service
   After=multi-user.target

   [Service]
   Environment=DISPLAY=:0
   StandardOutput=inherit
   StandardError=inherit
   ExecStartPre=/bin/sleep 30
   ExecStart=/home/pi/Desktop/SledovaniBarev/sledovani /dev/video0
   WorkingDirectory=/home/pi/Desktop/SledovaniBarev
   Restart=always
   User=pi

   [Install]
   WantedBy=multi-user.target
   ```

   * **Environment=DISPLAY=:0**: zajist√≠ zobrazen√≠ okna OpenCV na p≈ôipojen√©m monitoru
   * **ExecStartPre=/bin/sleep 30**: poƒçk√°, a≈æ se grafick√© prost≈ôed√≠ naƒçte
   * **ExecStart**: cesta ke spustiteln√©mu souboru `sledovani` a argument `/dev/video0`
   * **WorkingDirectory**: adres√°≈ô, kde slu≈æba pobƒõ≈æ√≠
   * **Restart=always**: slu≈æba se restartuje, pokud spadne
   * **User=pi**: slu≈æba pobƒõ≈æ√≠ pod u≈æivatelem `pi`

3. Ulo≈æ zmƒõny:

   * Stiskni `Ctrl+O`, pot√© `Enter` pro potvrzen√≠
   * Ukonƒçi Nano s `Ctrl+X`

### 7.2. Aktivace a spu≈°tƒõn√≠ slu≈æby

1. Naƒçti nov√© jednotky a aktualizuj systemd:

   ```bash
   sudo systemctl daemon-reload
   ```
2. Povolen√≠ automatick√©ho spou≈°tƒõn√≠ slu≈æby p≈ôi bootu:

   ```bash
   sudo systemctl enable sledovani.service
   ```
   deaktivace :
  ```bash
   sudo systemctl disable sledovani.service
   ```
4. Okam≈æit√© spu≈°tƒõn√≠ slu≈æby bez restartu:

   ```bash
   sudo systemctl start sledovani.service
   ```
5. Ovƒõ≈ô stav slu≈æby:

   ```bash
   sudo systemctl status sledovani.service
   ```

   * Mƒõl bys vidƒõt **Active: active (running)**

### 7.3. Zobrazen√≠ log≈Ø slu≈æby

Pro sledov√°n√≠ v√Ωstupu slu≈æby (nap≈ô. debug zpr√°v) pou≈æij:

```bash
sudo journalctl -u sledovani.service -f
```

* `-f` sleduje log v re√°ln√©m ƒçase
-------------------------------------------------------------

## 8. Opakovan√Ω p≈ôenos a spu≈°tƒõn√≠ po √∫prav√°ch

Kdy≈æ uprav√≠≈° k√≥d na **notebooku**, staƒç√≠ spustit tyto p≈ô√≠kazy, kter√© p≈ôenesou nejnovƒõj≈°√≠ zmƒõny, p≈ôelo≈æ√≠ program pro ARM architekturu na Pi a okam≈æitƒõ ho spust√≠:

1. **P≈ôenos soubor≈Ø na Raspberry Pi**

   ```bash
   # Ze slo≈æky projektu na notebooku
   scp -r ~/Plocha/PROGRAMING/C++/SledovaniBarev/* \
     pi@10.42.0.1:/home/pi/Desktop/SledovaniBarev/
   ```

   * `-r` kop√≠ruje cel√Ω obsah vƒçetnƒõ podadres√°≈ô≈Ø

2. **SSH do Pi a kompilace**

   ```bash
   ssh pi@10.42.0.1
   cd ~/Desktop/SledovaniBarev
   g++ main.cpp -o sledovani `pkg-config --cflags --libs opencv4`
   ```

   * P≈ôihl√°s√≠≈° se do Pi a p≈ôelo≈æ√≠≈° `main.cpp` pro ARM64

3. **Spu≈°tƒõn√≠ programu s kamerou**

   ```bash
   export DISPLAY=:0
   ./sledovani /dev/video0
   ```

Hotovo! Po tƒõchto kroc√≠ch pobƒõ≈æ√≠ nejnovƒõj≈°√≠ verze SledovaniBarev na Raspberry Pi¬†5 bez nutnosti manu√°ln√≠ho maz√°n√≠ star√Ωch bin√°rek.


## UART komunikace mezi Raspberry Pi 5 a ESP32

Tato sekce popisuje, jak propojit Raspberry Pi 5 a ESP32 pomoc√≠ UART (seriov√© linky), uk√°zku k√≥du na obou za≈ô√≠zen√≠ch a vysvƒõtlen√≠, co je pot≈ôeba nakonfigurovat.

---

### 1. Po≈æadavky

* Raspberry Pi 5 s nainstalovan√Ωm Raspberry Pi OS
* ESP32 (Arduino Core nebo vestavƒõn√© UART2/Serial2 dostupn√©)
* Propojovac√≠ kabely (dupont)
* Spoleƒçn√° zem (**GND**)

---

### 2. Hardwarov√© zapojen√≠

```
Raspberry Pi 5 (40pin)       ESP32
------------------------       ----------------
GND (pin 6, 9, 14, ...)   ‚Üí    GND
TX  (GPIO14, pin 8)       ‚Üí    RX2 (nap≈ô. GPIO16)
RX  (GPIO15, pin 10)      ‚Üê    TX2 (nap≈ô. GPIO17)
```

> **Pozn√°mka:** Obƒõ za≈ô√≠zen√≠ pou≈æ√≠vaj√≠ logick√© √∫rovnƒõ 3.3‚ÄØV, tak≈æe nen√≠ pot≈ôeba ≈æ√°dn√Ω p≈ôevodn√≠k napƒõt√≠.

---

### 3. Konfigurace Raspberry Pi

1. Vypnut√≠ s√©riov√© konzole (serial console), aby bylo UART ƒçistƒõ pro va≈°i aplikaci:

   ```bash
   sudo raspi-config
   # Interface Options ‚Üí Serial Port
   # ‚ÄûWould you like a login shell over serial?‚Äú ‚Üí No
   # ‚ÄûEnable UART hardware?‚Äú ‚Üí Yes
   sudo reboot
   ```

2. Ovƒõ≈ôen√≠ dostupnosti UART:

   ```bash
   ls -l /dev/serial0
   # nebo
   dmesg | grep ttyAMA0
   ```

3. P≈ô√≠klad pou≈æit√≠ v Pythonu (pomoc√≠ pyserial):

   ```python
   import serial

   # Otev≈ôeme UART (/dev/serial0 alias /dev/ttyAMA0) na 115200 baud
   ser = serial.Serial('/dev/serial0', 115200, timeout=1)
   ser.write(b'Ahoj ze Raspberry Pi!')
   data = ser.readline().decode('utf-8').strip()
   print(f"P≈ôijat√©: {data}")
   ser.close()
   ```

---

### 4. Konfigurace ESP32 (Arduino)

```cpp
#include <HardwareSerial.h>

// Pou≈æijeme Serial2: RX na GPIO16, TX na GPIO17
HardwareSerial Serial2(2);

void setup() {
  // Debug p≈ôes USB
  Serial.begin(115200);
  // UART2 na zvolen√Ωch pinech
  Serial2.begin(115200, SERIAL_8N1, 16, 17);
  Serial.println("ESP32 UART2 p≈ôipraven...");
}

void loop() {
  // ƒåteme ze s√©riov√© linky od Raspberry Pi
  if (Serial2.available()) {
    String msg = Serial2.readStringUntil('\n');
    Serial.print("Dost√°no z Pi: ");
    Serial.println(msg);
    // Odesl√°n√≠ odpovƒõdi: echo
    Serial2.println("Echo: " + msg);
  }
}
```

> **Pozn√°mka:** Vyberte si voln√© piny pro RX2/TX2, v p≈ô√≠kladu pou≈æ√≠v√°me GPIO16 a GPIO17.

---

### 5. Princip fungov√°n√≠

1. **K≈ô√≠≈æov√© propojen√≠**: TX ‚Üî RX + spoleƒçn√° GND.
2. **Logick√© √∫rovnƒõ**: obƒõ strany 3.3‚ÄØV ‚Üí bezpeƒçn√© propojen√≠ bez p≈ôevodn√≠k≈Ø.
3. **Serial console** na Raspberry Pi se vypne, jinak by se UART pou≈æ√≠val syst√©mem pro p≈ôihl√°≈°en√≠ a v√Ωpis bootovac√≠ch zpr√°v.
4. **Komunikaƒçn√≠ rychlost** (baudrate) mus√≠ b√Ωt stejn√° na obou stran√°ch (nap≈ô. 115200 bd).
5. Aplikace si mohou vz√°jemnƒõ pos√≠lat data ‚Äì viz uk√°zky k√≥du.

---

### 6. Tipy a doporuƒçen√≠

* Pou≈æijte `minicom` nebo `screen` pro rychl√Ω test UART na Raspberry Pi:

  ```bash
  sudo apt install minicom
  minicom -b 115200 -D /dev/serial0
  ```
* Pro stabilnƒõj≈°√≠ linku se hod√≠ zkombinovat **RC filtr** nebo **odporov√Ω dƒõliƒç** p≈ôi del≈°√≠ch kabelech.

---

*Hotovo!* Teƒè u≈æ m≈Ø≈æe≈° pou≈æ√≠vat UART mezi Raspberry Pi 5 a ESP32 v libovoln√© vlastn√≠ aplikaci.


-------

### Kompletn√≠ pr≈Øvodce tr√©ninkem AI modelu

Tento README tƒõ provede od √∫pln√©ho zaƒç√°tku a≈æ po nasazen√≠ vlastn√≠ho YOLOv5 modelu na detekci ƒçerven√Ωch, zelen√Ωch, modr√Ωch kostek a ƒçerven√©ho ƒçtverce.

---

## üìÅ Struktura projektu

```
projekt/
‚îú‚îÄ‚îÄ dataset/
‚îÇ   ‚îú‚îÄ‚îÄ raw_images/           ‚Üê surov√© sn√≠mky z kamery (capture.py)
‚îÇ   ‚îú‚îÄ‚îÄ images/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ train/            ‚Üê 80% obr√°zk≈Ø (po splitu)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ val/              ‚Üê 20% obr√°zk≈Ø (po splitu)
‚îÇ   ‚îî‚îÄ‚îÄ labels/
‚îÇ       ‚îú‚îÄ‚îÄ train/            ‚Üê YOLO anotace pro train
‚îÇ       ‚îî‚îÄ‚îÄ val/              ‚Üê YOLO anotace pro val
‚îú‚îÄ‚îÄ yolov5/                   ‚Üê klon YOLOv5 repozit√°≈ôe
‚îÇ   ‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cubes.yaml        ‚Üê konfiguraƒçn√≠ YAML se cestami a t≈ô√≠dami
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ train.py
‚îÇ   ‚îú‚îÄ‚îÄ detect.py
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ capture.py                ‚Üê skript pro sbƒõr sn√≠mk≈Ø (F = ulo≈æen√≠, Q = konec)
‚îú‚îÄ‚îÄ split.py                  ‚Üê skript na rozdƒõlen√≠ raw_images ‚Üí images/train, images/val
‚îú‚îÄ‚îÄ annotate.py               ‚Üê vlastn√≠ annot√°tor v OpenCV pro kreslen√≠ box≈Ø
‚îî‚îÄ‚îÄ test.py                   ‚Üê uk√°zkov√Ω inference skript
```

---

## üîß 1. Sbƒõr sn√≠mk≈Ø

Pou≈æij `capture.py`, kter√© seskriptuje kameru a p≈ôi stisku **F** ulo≈æ√≠ sn√≠mek do `dataset/raw_images/`.

```bash
# Ujisti se, ≈æe m√°≈° instalovan√© OpenCV:
# pip install opencv-python

python3 capture.py --output dataset/raw_images
```

* **F**: ulo≈æ√≠ aktu√°ln√≠ sn√≠mek jako `timestamp.jpg`
* **Q**: ukonƒç√≠ sn√≠m√°n√≠

Nasn√≠mej \~800‚Äì1000 sn√≠mk≈Ø, kombinuj sc√©ny s v√≠ce objekty (ƒçerven√°, zelen√°, modr√° kostka + ƒçerven√Ω ƒçtverec).

---

## üîÄ 2. Rozdƒõlen√≠ na train / val

Po nasb√≠r√°n√≠ spus≈• `split.py`, kter√Ω n√°hodnƒõ provede 80/20 rozdƒõlen√≠.

```bash
python3 split.py
```

Po √∫spƒõchu bude≈° m√≠t:

```
dataset/images/train/ ‚îÄ 80% v≈°ech .jpg
dataset/images/val/   ‚îÄ 20% v≈°ech .jpg
```

---

## ‚úçÔ∏è 3. Anotace obr√°zk≈Ø

Spus≈• `annotate.py` pro offline kreslen√≠ bounding box≈Ø a ulo≈æen√≠ YOLO `.txt` anotac√≠.

```bash
python3 annotate.py
```

**Ovl√°d√°n√≠:**

* **R/G/B/Z**: volba t≈ô√≠dy (`cube_red`, `cube_green`, `cube_blue`, `zone_red`)
* **Lev√Ω tlaƒç√≠tko**: zaƒç√≠t a t√°hnout box
* **S**: ulo≈æit `.txt` a p≈ôej√≠t na dal≈°√≠ obr√°zek
* **N**: p≈ôej√≠t na dal≈°√≠ bez ulo≈æen√≠
* **P**: p≈ôedchoz√≠ obr√°zek
* **Q**: ukonƒçit

V√Ωsledkem budou soubory:

```
dataset/labels/train/img_XXX.txt
dataset/labels/val/img_YYY.txt
```

Ka≈æd√Ω `.txt` m≈Ø≈æe obsahovat v√≠ce ≈ô√°dk≈Ø: `<class_id> <x_c> <y_c> <w> <h>` (yolo-normalizovan√©).

---

## üì¶ 4. P≈ô√≠prava YOLOv5

### A) Klon repozit√°≈ôe

```bash
git clone https://github.com/ultralytics/yolov5.git
cd yolov5
```

### B) Instalace z√°vislost√≠ (obejdi "externally-managed")

```bash
pip install --break-system-packages -r requirements.txt
```

> **Pozn√°mka:** Pokud nechce≈° riskovat, m≈Ø≈æe≈° pou≈æ√≠t:
>
> ```bash
> python3 -m venv venv
> source venv/bin/activate
> pip install -r requirements.txt
> ```

---

## ‚öôÔ∏è 5. Konfigurace datasetu

Vytvo≈ô `yolov5/data/cubes.yaml` s obsahem:

```yaml
train: ../dataset/images/train
val:   ../dataset/images/val

nc: 4
names: ['cube_red','cube_green','cube_blue','zone_red']
```

---

## üöÄ 6. Tr√©nink modelu

Spus≈• tr√©nink YOLOv5n (nano) s p≈ôedtr√©novan√Ωmi v√°hami:

```bash
python3 train.py \
  --img 640 \
  --batch 16 \
  --epochs 100 \
  --data data/cubes.yaml \
  --cfg models/yolov5n.yaml \
  --weights yolov5n.pt \
  --name cubes-exp1
```

Po skonƒçen√≠ najde≈° v√Ωsledky v:

```
yolov5/runs/train/cubes-exp1/
  ‚îú‚îÄ weights/best.pt
  ‚îú‚îÄ weights/last.pt
  ‚îî‚îÄ results.png
```

### Pokraƒçov√°n√≠ tr√©ninku (resume)

```bash
python3 train.py --resume runs/train/cubes-exp1 --exist-ok
```

---

## üéØ 7. Inference / Detekce

### A) Test na validaƒçn√≠ch obr√°zc√≠ch

```bash
python3 detect.py \
  --weights runs/train/cubes-exp1/weights/best.pt \
  --source ../dataset/images/val \
  --conf 0.4 \
  --save-txt \
  --project detect-test
```

### B) Real-time z kamery

```bash
python3 detect.py \
  --weights runs/train/cubes-exp1/weights/best.pt \
  --source 0 \
  --conf 0.4 \
  --view-img
```

Pro vlastn√≠ skript `test.py` s importem p≈ôes `torch.hub`:

```python
model = torch.hub.load('ultralytics/yolov5', 'custom', path='runs/train/cubes-exp1/weights/best.pt')
```

---

## üí° 8. Tipy a doporuƒçen√≠

* **Augmentace**: v `hyp.scratch-low.yaml` povol rotace, zmƒõnu jasu a o≈ôezy
* **Vy≈°≈°√≠ rozli≈°en√≠**: pro mal√© objekty zva≈æ `--img 800` nebo `1024`
* **Early stopping**: p≈ôidej `--patience 30` pro automatick√© ukonƒçen√≠ p≈ôi stagnaci
* **Test na r≈Øzn√© sc√©ny**: nasb√≠rej v√≠ce validaƒçn√≠ch obr√°zk≈Ø z r≈Øzn√Ωch √∫hl≈Ø a svƒõteln√Ωch podm√≠nek

---



